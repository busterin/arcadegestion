<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Gestión de recursos (Prototipo)</title>
<link href="style.css" rel="stylesheet"/>
</head>
<body>
<div class="app">
<!-- INTRO -->
<section class="intro intro-bg" id="introScreen">
<div class="intro-content">
<div class="intro-title">FANTASY GESTION</div>
<div class="intro-actions">
<button aria-label="Anterior" class="intro-nav-btn" id="introPrevBtn" type="button">‹</button>
<button class="intro-image-btn" id="introMenuBtn" type="button">
<img alt="Arcade" class="intro-image" id="introMenuImg" src="images/arcade.png"/>
<span class="intro-image-fallback" id="introMenuFallback">ARCADE</span>
</button>
<button aria-label="Siguiente" class="intro-nav-btn" id="introNextBtn" type="button">›</button>
</div>
</div>
</section>
<!-- RECLUTAR -->
<section class="start hidden" id="recruitScreen">
<div class="start-card recruit-card">
<div class="start-title">Reclutar personaje</div>
<div class="start-subtitle">Pulsa el sobre y la ruleta elegira entre Friday, Risko o Pendergast.</div>
<div class="recruit-zone">
<div class="recruit-reveal hidden" id="recruitReveal">
<img alt="Personaje desbloqueado" class="recruit-reveal-img" id="recruitRevealImg" src="images/Friday.PNG"/>
<div class="recruit-reveal-name" id="recruitRevealName">Friday</div>
</div>
<button class="recruit-pack" id="recruitPackBtn" type="button" aria-label="Abrir sobre de reclutamiento">
<img alt="Sobre de reclutamiento" class="recruit-pack-img" src="images/Sobre1.png"/>
</button>
</div>
<div class="recruit-result" id="recruitResultText">Aun no has abierto ningun sobre.</div>
<div class="recruit-unlocked" id="recruitUnlockedText">Desbloqueados: ninguno</div>
<div class="modal-actions end" style="margin-top:12px;">
<button class="btn btn-ghost" id="recruitBackBtn" type="button">Volver al menu</button>
</div>
</div>
</section>
<!-- USUARIO -->
<section class="start hidden" id="userScreen">
<div class="start-card user-card">
<div class="user-profile-top">
<img alt="Foto de perfil" class="user-profile-img" id="userProfileImg" src="images/fortaleza.PNG"/>
<div class="user-profile-actions">
<div class="start-title">Usuario</div>
<div class="start-subtitle">Selecciona una foto de perfil y revisa tus personajes desbloqueados.</div>
<label class="btn btn-ghost user-upload-label" for="userPhotoInput">Elegir foto</label>
<input accept="image/*" class="hidden" id="userPhotoInput" type="file"/>
</div>
</div>

<div class="user-section-title">Principales</div>
<div class="user-grid user-grid-main" id="userMainGrid"></div>

<div class="user-section-title">Secundarios</div>
<div class="user-grid user-grid-secondary" id="userSecondaryGrid"></div>

<div class="modal-actions end" style="margin-top:12px;">
<button class="btn btn-ghost" id="userBackBtn" type="button">Volver al menu</button>
</div>
</div>
</section>
<!-- SELECTOR AVATAR (solo arcade) -->
<section class="start hidden" id="startScreen">
<div class="start-card">
<div class="start-title">Elige tu avatar</div>
<div class="start-subtitle">Usa las flechas para cambiar y pulsa Comenzar.</div>
<div class="carousel">
<button aria-label="Anterior" class="carousel-btn" id="prevAvatarBtn" type="button">‹</button>
<div class="carousel-center">
<img alt="Buster" class="carousel-img" id="avatarPreviewImg" src="images/buster1.PNG"/>
<div class="carousel-name" id="avatarPreviewName">Buster</div>
</div>
<button aria-label="Siguiente" class="carousel-btn" id="nextAvatarBtn" type="button">›</button>
</div>
<div aria-hidden="true" class="carousel-dots">
<span class="dot-indicator active" id="dot0"></span>
<span class="dot-indicator" id="dot1"></span>
</div>
<button class="btn start-btn" id="startBtn" type="button">Comenzar</button>
</div>
</section>
<!-- SELECCIÓN EQUIPO (6) -->
<section class="start hidden" id="teamScreen">
<div class="start-card">
<div class="start-title">Selecciona 6 personajes. Estos serán los disponibles para superar las misiones.</div>
<div class="team-top">
<div class="team-counter"><b>Seleccionados</b>: <span id="teamCount">0</span>/6</div>
<div class="hint" id="teamHint">Elige 6 personajes para continuar.</div>
</div>
<div class="team-grid" id="teamGrid"></div>
<div class="modal-actions end" style="margin-top:12px;">
<button class="btn" disabled="" id="teamConfirmBtn" type="button">Confirmar</button>
</div>
</div>
</section>
<!-- JUEGO -->
<div class="game hidden" id="gameRoot">
<header class="topbar">
<div class="brand">
<div class="dot"></div>
<div>
<div class="title">Gestión de recursos</div>
<div class="subtitle">Toca los puntos rojos cuando aparezcan</div>
</div>
</div>
<div class="hud">
<div class="hud-card">
<div class="hud-label">Misiones</div>
<div class="hud-value" id="progress">0</div>
</div>
<button class="btn btn-ghost hidden" id="rivalTeamBtn" type="button">Rival</button>
</div>
</header>
<main class="stage">
<div aria-label="Mapa del juego" class="map" id="map">
<img alt="Personaje seleccionado" class="buster-img" id="playerImg" src="images/buster1.PNG"/>
<img alt="Personaje rival" class="rival-img hidden" id="rivalImg" src="images/Evelyn.PNG"/>
</div>
</main>
<!-- Equipo (6) debajo del mapa -->
<div aria-label="Equipo seleccionado" class="team-bar" id="teamBar"></div>
</div>
</div>
<!-- MODAL MISIÓN -->
<div aria-hidden="true" class="modal" id="missionModal">
<div aria-labelledby="missionTitle" aria-modal="true" class="modal-card" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="missionTitle">Misión</div>
<!-- Imagen misión -->
<img alt="Misión" class="mission-img" id="missionImg" src="images/mision.png"/>
<div class="modal-text" id="missionText">Texto de misión</div>
</div>
<button aria-label="Cerrar" class="icon-btn" id="closeModalBtn" type="button">✕</button>
</div>
<div class="divider"></div>
<div class="section">
<div class="section-title">Elige 1 o 2 personajes</div>
<div class="grid" id="charactersGrid"></div>
<div class="hint" id="pickHint">Selecciona al menos 1 personaje.</div>
</div>
<div class="divider"></div>
<div class="modal-actions end">
<button class="btn" id="confirmBtn" type="button">Confirmar</button>
</div>
</div>
</div>
<!-- MODAL RULETA -->
<div aria-hidden="true" class="modal" id="rouletteModal">
<div aria-labelledby="rouletteTitle" aria-modal="true" class="modal-card roulette-card" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="rouletteTitle">Resolviendo misión…</div>
<div class="modal-text" id="rouletteSub">La ruleta decidirá el resultado según tu probabilidad.</div>
</div>
</div>
<div class="divider"></div>
<div class="roulette-wrap">
<div class="roulette">
<div class="roulette-pointer">▼</div>
<div class="roulette-wheel" id="rouletteWheel"></div>
</div>
<div class="roulette-outcome" id="rouletteOutcome"></div>
</div>
<div class="divider"></div>
<div class="modal-actions">
<button class="btn" disabled="" id="rouletteOkBtn" type="button">Continuar</button>
</div>
</div>
</div>
<!-- MODAL FINAL -->
<div aria-hidden="true" class="modal" id="finalModal">
<div aria-labelledby="finalTitle" aria-modal="true" class="modal-card" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="finalTitle">Fin de la partida</div>
<div class="modal-text">¡Tiempo!</div>
</div>
</div>
<div class="divider"></div>
<div class="final-score">
<div class="final-label">Puntuación final</div>
<div class="final-value" id="finalScore">0</div>
</div>
<div class="divider"></div>
<div class="modal-actions">
<button class="btn" id="playAgainBtn" type="button">Jugar otra vez</button>
</div>
</div>
</div>
<!-- MODAL EMPAREJAMIENTO -->
<div aria-hidden="true" class="modal" id="matchmakingModal">
<div aria-labelledby="matchmakingTitle" aria-modal="true" class="modal-card modal-card-small" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="matchmakingTitle">Emparejando...</div>
<div class="modal-text" id="matchmakingText">Buscando otro jugador conectado.</div>
</div>
</div>
<div class="divider"></div>
<div class="modal-actions end">
<button class="btn btn-ghost" id="cancelMatchBtn" type="button">Cancelar</button>
</div>
</div>
</div>
<!-- MODAL EQUIPO RIVAL -->
<div aria-hidden="true" class="modal" id="rivalTeamModal">
<div aria-labelledby="rivalTeamTitle" aria-modal="true" class="modal-card modal-card-small" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="rivalTeamTitle">Equipo rival</div>
<div class="modal-text" id="rivalTeamText">Estos son los personajes de tu rival.</div>
</div>
<button aria-label="Cerrar" class="icon-btn" id="closeRivalTeamBtn" type="button">✕</button>
</div>
<div class="divider"></div>
<div class="rival-team-grid" id="rivalTeamGrid"></div>
</div>
</div>
<!-- POPUP INFO CARTA -->
<div aria-hidden="true" class="modal" id="cardInfoModal">
<div aria-labelledby="cardInfoTitle" aria-modal="true" class="modal-card modal-card-small" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="cardInfoTitle">Carta</div>
<!-- Imagen ampliada -->
<img alt="" class="cardinfo-img" id="cardInfoImg" src=""/>
<div class="modal-text" id="cardInfoText">Prueba</div>
</div>
<button aria-label="Cerrar" class="icon-btn" id="closeCardInfoBtn" type="button">✕</button>
</div>
</div>
</div>
<!-- HABILIDAD ESPECIAL -->
<div aria-hidden="true" class="modal" id="specialModal">
<div aria-labelledby="specialTitle" aria-modal="true" class="modal-card modal-card-small" role="dialog">
<div class="modal-head">
<div>
<div class="modal-title" id="specialTitle">¿Quieres activar su habilidad especial?</div>
<div class="modal-text">Pulsa sobre una misión y la completa automáticamente.</div>
</div>
<button aria-label="Cerrar" class="icon-btn" id="closeSpecialBtn" type="button">✕</button>
</div>
<div class="divider"></div>
<div class="modal-actions end">
<button class="btn btn-ghost" id="specialCancelBtn" type="button">Cancelar</button>
<button class="btn" id="specialAcceptBtn" type="button">Activar</button>
</div>
</div>
</div>
<script src="script.js"></script>
</body>
</html>
